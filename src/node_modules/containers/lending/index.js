import { connect } from 'react-redux'
import React, { Component } from 'react'
import {fetchPrice} from 'actions'
import {getCryptoCurrency} from 'selectors'
import { Link } from 'react-router'

class Lending extends Component {
    componentDidMount(){
        this.props.fetchPrice()
    }
    renderPriceCharts(prices,index){
        return(
        <div key={index}>
                <Link to={`/trade/${prices.name}`} className="btn btn-success">{prices.symbol}</Link>
        </div>
        )}
    render() {
        const {prices} = this.props
        return (
            <div className='container'>
                <div className='books row '>
                    {prices.map((prices, index) => this.renderPriceCharts(prices, index))}
                </div>
            </div>
        )
    }
}

const mapDispatchToProps = {
    fetchPrice
}
const mapStateToProps = state => ({ 
    prices: getCryptoCurrency(state)
})
export default connect(mapStateToProps,mapDispatchToProps)(Lending)


